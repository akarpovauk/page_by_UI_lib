(()=>{"use strict";const t=function(e){return new t.prototype.init(e)};t.prototype.init=function(t){return t?t.tagName?(this[0]=t,this.length=1,this):(Object.assign(this,document.querySelectorAll(t)),this.length=document.querySelectorAll(t).length,this):this},t.prototype.init.prototype=t.prototype,window.$=t;const e=t;e.prototype.show=function(){for(let t=0;t<this.length;t++)this[t].style&&(this[t].style.display="");return this},e.prototype.hide=function(){for(let t=0;t<this.length;t++)this[t].style&&(this[t].style.display="none");return this},e.prototype.toggle=function(){for(let t=0;t<this.length;t++)this[t].style&&("none"===this[t].style.display?this[t].style.display="":this[t].style.display="none");return this},e.prototype.addClass=function(...t){for(let e=0;e<this.length;e++)this[e].classList&&this[e].classList.add(...t);return this},e.prototype.removeClass=function(...t){for(let e=0;e<this.length;e++)this[e].classList&&this[e].classList.remove(...t);return this},e.prototype.toggleClass=function(t){for(let e=0;e<this.length;e++)this[e].classList&&this[e].classList.toggle(t);return this},e.prototype.on=function(t,e){if(!t||!e)return this;for(let s=0;s<this.length;s++)this[s].addEventListener(t,e);return this},e.prototype.off=function(t,e){if(!t||!e)return this;for(let s=0;s<this.length;s++)this[s].removeEventListener(t,e);return this},e.prototype.click=function(t){for(let e=0;e<this.length;e++)t?this[e].addEventListener("click",t):this[e].click();return this},e.prototype.addAttribute=function(t,e=""){for(let s=0;s<this.length;s++)if(this[s].classList){if(!t)return this;this[s].setAttribute(t,e)}return this},e.prototype.getAttributeValue=function(t){return this[0].getAttribute(t)},e.prototype.addAttributeValue=function(t,e=""){for(let s=0;s<this.length;s++)if(this[s].classList){if(!t)return this;this[s].hasAttribute(t)&&this[s].setAttribute(t,e)}return this},e.prototype.removeAttributeValue=function(t,e=""){for(let s=0;s<this.length;s++){if(!t)return this;this[s].hasAttribute(t)&&(this[s].getAttribute(t)==e&&this[s].setAttribute(t,e=""),""!=e&&e||this[s].setAttribute(t,e=""))}return this},e.prototype.toggleAttributeValue=function(t,e){for(let s=0;s<this.length;s++)this[s].classList&&this[s].hasAttribute(t)&&(this[s].getAttribute(t)!==e?this[s].setAttribute(t,e):this[s].setAttribute(t,e=""));return this},e.prototype.html=function(t){for(let e=0;e<this.length;e++){if(!t)return this[e].innerHTML;this[e].innerHTML=t}return this},e.prototype.eq=function(t){const e=this[t],s=Object.keys(this).length;for(let t=0;t<s;t++)delete this[t];return this[0]=e,this.length=1,this},e.prototype.index=function(){return[...this[0].parentNode.children].findIndex((t=>t==this[0]))},e.prototype.find=function(t){let e=0,s=0;const i=Object.assign({},this);for(let o=0;o<i.length;o++){const n=i[o].querySelectorAll(t);if(0!=n.length){for(let t=0;t<n.length;t++)this[s]=n[t],s++;e+=n.length}}this.length=e;const o=Object.keys(this).length;for(;e<o;e++)delete this[e];return this},e.prototype.closest=function(t){let e=0;for(let s=0;s<this.length;s++)this[s].closest(t)&&(this[s]=this[s].closest(t),e++);this.length=e;const s=Object.keys(this).length;for(;e<s;e++)delete this[e];return this},e.prototype.siblings=function(){let t=0,e=0;const s=Object.assign({},this);for(let i=0;i<s.length;i++){const o=s[i].parentNode.children;for(let t=0;t<o.length;t++)s[i]!==o[t]&&(this[e]=o[t],e++);t+=o.length-1}this.length=t;const i=Object.keys(this).length;for(;t<i;t++)delete this[t];return this},e.prototype.animateOverTime=function(t,e,s){let i;return function o(n){i||(i=n);let l=n-i,r=Math.min(l/t,1);e(r),l<t?requestAnimationFrame(o):"function"==typeof s&&s()}},e.prototype.fadeIn=function(t,e,s){for(let i=0;i<this.length;i++){this[i].style.display=e||"block";let o=""===this[i].style.opacity?0:Number(this[i].style.opacity);const n=t=>{this[i].style.opacity=Math.min(t+o,1)},l=this.animateOverTime(t,n,s);requestAnimationFrame(l)}return this},e.prototype.fadeOut=function(t,e){for(let s=0;s<this.length;s++){let i=""===this[s].style.opacity?1:Number(this[s].style.opacity);const o=t=>{this[s].style.opacity=Math.max(1-(t+i),0),1===t&&(this[s].style.display="none")},n=this.animateOverTime(t,o,e);requestAnimationFrame(n)}return this},e.prototype.fadeToggle=function(t,s,i){for(let o=0;o<this.length;o++)"none"===window.getComputedStyle(this[o]).display?e(this[o]).fadeIn(t):e(this[o]).fadeOut(t,s,i);return this},e.prototype.dropdown=function(){for(let t=0;t<this.length;t++){const s=e(this[t]).getAttributeValue("id");e(this[t]).click((()=>{e(`[data-toggle-id="${s}"]`).fadeToggle(300)}))}},e(".dropdown-toggle").dropdown(),e.prototype.showModal=function(){return this[0].showModal()},e.prototype.closeModal=function(){return this[0].close()},e.prototype.modalDialog=function(t){for(let s=0;s<this.length;s++){const i=this[s].getAttribute("data-target");e(this[s]).click((t=>{t.preventDefault(),e(i).showModal()})),e(i).find("[data-close]").click((()=>{e(i).closeModal(),t&&document.querySelector(i).remove()})),e(i).click((s=>{s.target===s.currentTarget&&(e(i).closeModal(),t&&document.querySelector(i).remove())})),t&&e(i).on("keydown",(t=>{"Escape"===t.key&&(console.log("Нажата Esc – пора на свободу!"),document.querySelector(i).remove())}))}},e('[data-toggle="modal-dialog"]').modalDialog(),e.prototype.createModalDialog=function({text:t,btns:s}={}){let i=document.createElement("dialog");i.classList.add("modal"),i.setAttribute("id",this[0].getAttribute("data-target").slice(1));const o=[];for(let t=0;t<s.settings.length;t++){let[e,i,n,l]=s.settings[t],r=document.createElement("button");r.classList.add("btn",...i),r.textContent=e,n&&r.setAttribute("data-close","true"),l&&"function"==typeof l&&r.addEventListener("click",l),o.push(r)}i.innerHTML=`\n\t\t<button class="close" data-close aria-label="close">\n\t\t\t<span>&times;</span>\n\t\t</button>\n\t\t<div class="modal-header" aria-label="title">\n\t\t\t<h3 class="modal-title">${t.title}</h3>\n\t\t</div>\n\t\t<div class="modal-body">${t.body}</div>\n\t\t<div class="modal-footer">\n\t\t</div>\n\t`,i.querySelector(".modal-footer").append(...o),document.body.appendChild(i),e(this[0]).modalDialog(!0),e(this[0].getAttribute("data-target")).showModal()},e.prototype.modalDiv=function(t){for(let s=0;s<this.length;s++){const i=this[s].getAttribute("data-target");e(this[s]).click((t=>{t.preventDefault(),e(i).fadeIn(500),document.body.style.overflow="hidden"})),document.querySelectorAll(`${i} [data-close]`).forEach((s=>{e(s).click((()=>{e(i).fadeOut(500),document.body.style.overflow="",t&&document.querySelector(i).remove()}))})),e(i).click((s=>{s.target.classList.contains("modal-div")&&(e(i).fadeOut(500),document.body.style.overflow="",t&&document.querySelector(i).remove())}))}},e('[data-toggle="modal-div"]').modalDiv(),e.prototype.tab=function(){for(let t=0;t<this.length;t++)e(this[t]).on("click",(()=>{e(this[t]).addClass("tab-item_active").siblings().removeClass("tab-item_active").closest(".tab").find(".tab-pane").removeClass("tab-pane_active").eq(e(this[t]).index()).addClass("tab-pane_active")}))},e("[data-tablist] .tab-item").tab(),e.prototype.accordion=function(t="accordion-summary_active",s="accordion-content_active",i=40){for(let o=0;o<this.length;o++)e(this[o]).click((()=>{e(this[o]).toggleClass(t),e(this[o].nextElementSibling).toggleClass(s),this[o].classList.contains(t)?this[o].nextElementSibling.style.maxHeight=this[o].scrollHeight+i+"px":this[o].nextElementSibling.style.maxHeight="0px"}))},e(".accordion-summary").accordion(),e.prototype.carousel=function(t=!1,s=0,i=!1){for(let o=0;o<this.length;o++){const n=window.getComputedStyle(this[o].querySelector(".carousel-inner")).width,l=this[o].querySelector(".carousel-slides"),r=this[o].querySelectorAll(".carousel-item"),a=this[o].querySelectorAll(".carousel-indicators li");l.style.width=100*r.length+"%",r.forEach((t=>{t.style.width=n}));let c=0,h=+n.replace(/\D/g,""),u=0;function d(){l.style.transform=`translateX(-${c}px)`,u=c/h,a.forEach((t=>t.classList.remove("active"))),a[u].classList.add("active")}if(t){let f=setInterval((()=>{c==h*(r.length-1)?c=0:c+=h,d()}),s);i&&(e(this[o]).on("mouseenter",(()=>{clearInterval(f)})),e(this[o]).on("mouseleave",(()=>{f=setInterval((()=>{c==h*(r.length-1)?c=0:c+=h,d()}),s)})))}e(this[o].querySelector('[data-slide="next"]')).click((t=>{t.preventDefault(),c==h*(r.length-1)?c=0:c+=h,d()})),e(this[o].querySelector('[data-slide="prev"]')).click((t=>{t.preventDefault(),0==c?c=h*(r.length-1):c-=h,d()}));const p=this[o].getAttribute("id");e(`#${p} .carousel-indicators li`).click((t=>{const e=t.target.getAttribute("data-slide-to");c=h*e,d()}))}},e("#carousel_primary").carousel(!0,1e3,!0),e.prototype.createCarousel=function(t=[],s={},i,o,n){for(let l=0;l<this.length;l++){const r=this[l];r.innerHTML='\n\t\t\t<ol class="carousel-indicators">\n\t\t\t</ol>\n\t\t\t<div class="carousel-inner">\n\t\t\t\t<div class="carousel-slides">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<a href="#" class="carousel-prev" data-slide=\'prev\'>\n\t\t\t\t<span class="carousel-prev-icon">&lt;</span>\n\t\t\t</a>\n\t\t\t<a href="#" class="carousel-next" data-slide=\'next\'>\n\t\t\t\t<span class="carousel-next-icon">&gt;</span>\n\t\t\t</a>\n\t\t',r.style.width=s.width,r.querySelector(".carousel-inner").style.height=s.height;const a=r.querySelector(".carousel-indicators");function c(t){const e=document.createElement("li");e.setAttribute("data-slide-to",t),0==t&&e.classList.add("active"),a.appendChild(e)}const h=r.querySelector(".carousel-slides");function u(t){const e=document.createElement("div"),s=document.createElement("img");e.classList.add("carousel-item"),s.setAttribute("src",t.src),s.setAttribute("alt",t.alt),e.append(s),h.appendChild(e)}t.forEach(((t,e)=>{c(e),u(t)})),e(this[l]).carousel(i,o,n)}},e.prototype.get=async function(t,e="json"){let s=await fetch(t);if(!s.ok)throw new Error(`Could not fetch ${t}, status: ${s.status}`);switch(e){case"json":return await s.json();case"text":return await s.text();case"blob":return await s.blob()}},e.prototype.post=async function(t,e,s="text"){let i=await fetch(t,{method:"POST",body:e});switch(s){case"json":return await i.json();case"text":return await i.text();case"blob":return await i.blob()}}})();